<%= strata_form_with(model: [activity_report_application_form, activity.becomes(Activity)]) do |f| %>
  <%= f.text_field :name, label: t(".name") %>
  <%= f.select :month,
    6.times.map { |i|
      date = (Date.today - i.months).beginning_of_month
      [date.strftime("%B %Y"), date]
    }, { prompt: t(".select_prompt") }
  %>
  <% if activity.is_a?(WorkActivity) %>
    <%= f.text_field :hours, inputmode: "decimal", id: "activities-hours-input", label: t(".hours_label"), value: activity.try(:hours) %>
  <% elsif activity.is_a?(IncomeActivity) %>
    <%= f.money_field :income, id: "activities-income-input", label: t(".income_label") %>
  <% else %>
    <% raise "Unknown activity type: #{activity.class.name}" %>
  <% end %>
  <%= f.hidden_field :activity_type, value: activity.class.name.underscore %>
  <%= f.submit t(".continue"), big: true %>
<% end %>
